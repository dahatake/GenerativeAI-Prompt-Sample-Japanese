# 要求定義作成

事業のアイディア、議事録、プロジェクトプランなどから、ソフトウェアエンジニアがアプリケーション開発に着手するための入力情報となりえるドキュメントを作成します。

GitHub Copilot AgentへのIssue候補でもあります。

https://docs.github.com/ja/enterprise-cloud@latest/copilot/using-github-copilot/coding-agent/about-assigning-tasks-to-copilot

# 作戦

アプリケーションは何らかの**課題**の解決のためのツールとして価値を発揮します。
そのため、課題の抽出に力点をあてて話を進めていきます。

## ドキュメント作成

ツールは、最近のLLMであれば、どれでもそれなりにドキュメントを作成してくれます。

おすすめツール:
- (最強) Microsoft 365 Copilot Researcher
    - https://blogs.windows.com/japan/2025/04/14/introducing-researcher-and-analyst-in-microsoft-365-copilot/
    - Researcherが使える方は、こちらの利用を強くお勧めします。より詳細なドキュメントの作成をしてくれますし、何よりその理由の説明のドラフトの作成が強力です。

- Microsoft 365 Copilot
    - https://www.microsoft.com/ja-jp/microsoft-365/copilot/copilot-for-work


ドキュメント化することが大事です。
- テキストのファイル: 各Promptの中で**要求定義**など、そのドキュメントが世間一般で通じる名称、つまり、LLMがどんなドキュメントなのかの判断がつきやすいです
- Wordなど: 長文であっても、章ごとに**意味のある塊**としてLLMに伝えやすくなります。また、OneDriveなどに置いておけば、バックアップ、バージョン管理、共同作業などがしやすくなります。Microsoft 365 Copilotの場合は、そのファイルをアップロードあるいはOneDrive上のファイルの参照が容易にできるため、入力ドキュメントの指定としての正確性が増します。

各ステップでの出力ですが、以下の様に使用すると良いかと思います。

- 通常のCopilotなど

    - チャットを継続してください

- Researcherなど、Deep Research 系
    - チャットは可能な限り1つのチャットの中で処理をしてください。コンテキストが引き継がれて、よりよい出力結果を得られやすいです。
    - それでも通常と比較すると、会話の回数は少なくなります。トークン数が多すぎるためです。4-5回程度の会話で限界かもしれません。
    - チャットの成果物は、Loopに出力して、その後Wordに出力することをお勧めします。そのWordのファイルを次の入力の情報として使ってください

## Step.1 対象事業の選定

これは、アプリケーション開発対象の事業が何か決まっていない場合に使います。
ここではAs-IsとTo-Beを一度に作成します。もし、出力結果が多すぎる場合は、以下の様にステップを分割することをお勧めします😊

リサーチルールがおススメです。

- As-Isだけ作成
- その後 To-Be作成

```text
# 役割
- あなたはMBAを保有している、世界的なビジネス戦略コンサルタントとして振舞ってください。

# 目的
- 私は{企業名}の事業の課題とその解決策について調査しています。
- {企業名}の過去10年間の事業分析を行って、{事業分析レポート構成}に沿った論理的かつ説得力のある詳細なレポートを作成してください。

# 実行プラン
- まず、実施内容の簡潔なチェックリスト（3～7項目）を箇条書きで示してください。それぞれの項目は概念的なもので、実装レベルには踏み込まないでください。

# 事業分析レポート構成

1. **エグゼクティブサマリー**
    - 調査の目的と背景
    - 主な発見と提言の要約
    - 今後のアクションの方向性
2. **内部環境分析**
    - 組織構造とガバナンス
    - 人材・スキルセット
    - オペレーション（生産、物流、品質管理など）
    - 財務状況（収益性、コスト構造、キャッシュフロー）
    - IT・デジタル活用状況
3. **顧客・製品・サービス分析**
    - 顧客セグメントとニーズ
    - 製品・サービスの提供価値（バリュープロポジション）
    - 顧客満足度・NPSなどの指標
    - 売上構成と収益性の高い製品群
4. **業務プロセス分析（As-Is / To-Be）**
    - 現行業務フローの可視化
    - ボトルネックや非効率の特定
    - 改善余地のあるプロセス領域（深く・詳細に）
5. **DX・テクノロジー活用状況**
    - 現在のデジタル化レベル
    - データ活用・分析基盤の整備状況
    - 自動化・AI導入の可能性
6. **改善提言とインパクト評価**
    - 改善施策の提案（短期・中長期）
    - 各施策のROI・KPI試算
    - 実行優先度とロードマップ案

# 出力形式・記載上の注意
- 各フィールドの内容はビジネスコンサルタント視点で論理的に記述し、詳細な説明を心がけてください。必要に応じて追加的なサブポイントは配列やリストで表現して構いません。


```

M365 Copilotを使っている場合は、出力結果を**Pageに編集**で、Loopのファイルとして保存するのが便利です。

## Step.2 ユースケース作成

事業課題から、ユースケースを作成します。

一度に全てを作成しきれない事があります。その場合は、まずは一覧を作成して、その中から、ユースケースの詳細を作成したいものを選定して、先に進みます。

### step.2.1 ユースケース一覧作成 

Step.1 で作成したLoopのファイルを**作業コンテンツ** (添付ファイル)として追加します。

```text
あなたは歴史上最高のSoftware EngineeringのProduct Managerです。

添付ドキュメントには、ある企業の事業課題とその解決策のリストアップが含まれています。

全ての事業を対象に、ソフトウェアとして実装するためのユースケース一覧を作成してください。それぞれのユースケースについて、ユースケースID、名称、説明、選定理由を含めてください。必要な情報が不足している場合は、その項目には"N/A"と入力してください。

はじめに行う作業の概要を、3～7項目程度のコンセプチュアルなチェックリストとして簡潔に示してください。
```

### step.2.2 ユースケース作成

step.2.1でのチャットを継続するのがおススメです。

```text
# 目的
- {機能要件書の項目}に沿った、ソフトウェアとして実装するための可能な限り詳細かつ具体的かつ深い機能要件書を作成してください。
- 作成する機能要件書は、{対象の機能要件}のみにしてください。

## 対象の機能要件
- {対象の機能要件}
- {対象の機能要件}

## 機能要件書の項目

### 1. **はじめに（Introduction）**
- **目的（Purpose）**  
  ドキュメントの目的と読者の想定。
- **スコープ（Scope）**  
  対象となるシステムやアプリケーションの範囲。
- **定義と略語（Definitions and Acronyms）**  
  用語の定義、略語の説明。

### 2. **全体概要（Overall Description）**
- **ビジネス背景と目的（Business Context and Goals）**
- **ユーザーの概要（User Characteristics）**
- **前提条件と制約（Assumptions and Constraints）**
- **依存関係（Dependencies）**

### 3. **機能要件（Functional Requirements）**
各機能をユースケースまたは機能単位で記述：

- **機能ID（Requirement ID）**
- **機能名（Function Name）**
- **説明（Description）**
- **入力（Inputs）**
- **出力（Outputs）**
- **前提条件（Preconditions）**
- **事後条件（Postconditions）**
- **例外処理（Exception Handling）**
- **関連ユースケース（Related Use Cases）**

### 4. **ユーザーインターフェース要件（UI Requirements）**
- 画面レイアウト、ナビゲーション、入力項目、バリデーションルールなど。

### 5. **外部インターフェース要件（External Interfaces）**
- **API仕様**
- **外部システムとの連携**
- **データフォーマット（JSON, XMLなど）**

### 6. **データ要件（Data Requirements）**
- **データモデル（ER図など）**
- **データ項目の定義**
- **データの整合性ルール**

### 7. **セキュリティ要件（Security Requirements）**
- **認証・認可**
- **データ暗号化**
- **監査ログ**


# 注意点
- はじめに行う作業の概要を、3～7項目程度のコンセプチュアルなチェックリストとして簡潔に示してください。
```

## Step.3 機能要件作成

ユースケースから機能要件書を作成します。
ユースケースの量が多い場合は、ファイルを分割した方が、より詳細な情報を作成してくれます。


## Step.3.1 機能要件の一覧作成

ここでも、step.2.2でのチャットを継続するのがおススメです。

```text
# 目的
{対象のユースケース}のみについて、ソフトウェアとして実装するための機能要件の一覧を作成してください。機能ID機能要件名と、その説明と、その機能要件を選んだ理由を含めてください。箇条書きで作成してください。

## 対象のユースケース
- {xxx}

# 注意点
- はじめに行う作業の概要を、3～7項目程度のコンセプチュアルなチェックリストとして簡潔に示してください。
```



## Step.3.2 機能要件書の作成

ここでも、step.3.1でのチャットを継続するのがおススメです。

```text
# 目的
- {対象のユースケース}のみについて、{機能要件書の項目}に沿った、ソフトウェアとして実装するための可能な限り詳細かつ具体的かつ深い機能要件書を作成してください。
- 作成する機能要件は、{対象の機能要件}のみにしてください。

## 対象のユースケース
- {xxx}

## 対象の機能要件
- {対象の機能要件}
- {対象の機能要件}

## 機能要件書の項目

### 1. **はじめに（Introduction）**
- **目的（Purpose）**  
  ドキュメントの目的と読者の想定。
- **スコープ（Scope）**  
  対象となるシステムやアプリケーションの範囲。
- **定義と略語（Definitions and Acronyms）**  
  用語の定義、略語の説明。

### 2. **全体概要（Overall Description）**
- **ビジネス背景と目的（Business Context and Goals）**
- **ユーザーの概要（User Characteristics）**
- **前提条件と制約（Assumptions and Constraints）**
- **依存関係（Dependencies）**

### 3. **機能要件（Functional Requirements）**
各機能をユースケースまたは機能単位で記述：

- **機能ID（Requirement ID）**
- **機能名（Function Name）**
- **説明（Description）**
- **入力（Inputs）**
- **出力（Outputs）**
- **前提条件（Preconditions）**
- **事後条件（Postconditions）**
- **例外処理（Exception Handling）**
- **関連ユースケース（Related Use Cases）**

### 4. **ユーザーインターフェース要件（UI Requirements）**
- 画面レイアウト、ナビゲーション、入力項目、バリデーションルールなど。

### 5. **外部インターフェース要件（External Interfaces）**
- **API仕様**
- **外部システムとの連携**
- **データフォーマット（JSON, XMLなど）**

### 6. **データ要件（Data Requirements）**
- **データモデル（ER図など）**
- **データ項目の定義**
- **データの整合性ルール**

### 7. **セキュリティ要件（Security Requirements）**
- **認証・認可**
- **データ暗号化**
- **監査ログ**


# 注意点
- はじめに行う作業の概要を、3～7項目程度のコンセプチュアルなチェックリストとして簡潔に示してください。
```

終了後に。この出力結果を他のPromptの一部にするために、Markdown書式に変換することをお勧めします。

```text
先ほどの出力結果をMarkdown書式にしてください。
```

## (Option) 1. データモデル作成

機能要件書から、詳細なデータモデルを作成したい場合**のみ**、実施します。

データモデルの作成は大変便利です。ここまでの業務要件の流れから抽出することで、プロトタイプとして利用者が利用イメージが湧きやすくなり自分事として捉えやすくなります。また、既存のデータソースとの接続が難しい場合など、それに引きずられること無く、アプリケーションの開発に入っていけます。


```text
{機能要件}から、ソフトウェアエンジニアが実装できる詳細なレベルのデータモデルと、日本語のサンプルデータを作成してください。
```

## (Option) 2. コンポーネントモデル作成

共通機能ですね。

```text
{機能要件}の中のデータやフロー、画面など、共通化できるコンポーネントをリストアップしてください。
```