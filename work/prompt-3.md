# タスク3: ApplicationDesign-microservice-polyglotpersistence.mdの改善

## 目的
`Software Engineer/プロトタイプ-AIFirst/ApplicationDesign-microservice-polyglotpersistence.md` の7つのプロンプトを改善

## 実施内容

### 1. 共通パターンの抽出
- エラーハンドリング指示を共通セクションに移動
- 作業時間管理の指示を共通セクションに移動
- プロンプトテンプレートの作成

### 2. 各プロンプトの構造化
**Step 1.1: ドメイン分析**
- DDDの各概念に具体例を追加
- 分析手順を10ステップ程度に分割
- チェックリスト形式の検証項目追加

**Step 1.2: マイクロサービス一覧**
- サービス候補の評価基準を明確化
- コンテキストマップの作成手順を詳細化
- 良い例・悪い例を追加

**Step 2: データモデル作成**
- Polyglot Persistenceの選定フローチャート追加
- データストア選定マトリクスの例を追加
- サンプルデータ作成の具体的ガイドライン

**Step 3: 画面一覧と遷移図**
- 画面設計のベストプラクティス追加
- 画面遷移パターンの例示
- アクセシビリティチェックリスト

**Step 4: サービスカタログ表**
- マッピング表のテンプレート例を追加
- API設計の原則を明示
- 責務分離の検証チェックリスト

**Step 5.1: 画面定義書**
- 画面指示書の構造を簡潔化
- 必須項目と推奨項目を区別
- 具体的な画面例を1つ追加

**Step 5.2: マイクロサービス定義書**
- 長大な定義書テンプレートを構造化
- セクションごとに重要度を明示
- 最小限の必須項目を定義

### 3. 抽象的表現の具体化
- 「深くかつ慎重に分析」→「以下の観点から分析し、各観点に根拠を付記」
- 「高精度に分析」→「漏れなく網羅的に」

## OpenAIガイダンスに基づく改善ポイント

### 明確な指示
- 各手順の入力・処理・出力を明確化
- 期待される品質基準を定量化

### タスク分割
- 大きなプロンプトをサブタスクに分割
- 各サブタスクの依存関係を明示

### 推論プロセス
- 「まず全体計画を作成」を各プロンプトに追加
- 中間レビューポイントを設定

### 例とテンプレート
- 各セクションに最低1つの具体例
- テンプレートをMermaid図や表で視覚化

## 成果物
`Software Engineer/プロトタイプ-AIFirst/Updated-ApplicationDesign-microservice-polyglotpersistence.md`

## 検証基準
- [ ] 共通ルールが独立したセクションに記載されている
- [ ] 各プロンプトが構造化されている（役割→目的→手順→出力→検証）
- [ ] 具体例が各プロンプトに最低1つ含まれている
- [ ] 抽象的表現が具体的な指示に置き換えられている
- [ ] 検証チェックリストが各プロンプトに追加されている
